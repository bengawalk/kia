var c=Object.defineProperty;var p=(n,a,e)=>a in n?c(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e;var l=(n,a,e)=>p(n,typeof a!="symbol"?a+"":a,e);import{q as u,a as t,S as m,b as d}from"./index-Cpfexu9g.js";import{m as h}from"./maplibre-gl-xm6g-eg3.js";const g=n=>({type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:(n||[]).map(a=>[a.lng,a.lat])}}]}});class y extends t.Component{constructor(e){super(e);l(this,"initMap",()=>{const{lng:e,lat:i,zoom:r}=this.state,o=new h.Map({container:this.mapContainer.current,style:"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",center:[e,i],zoom:r,minZoom:10,maxZoom:18});o.dragRotate.disable(),o.touchZoomRotate.disableRotation(),o.getCanvas().style.cursor="crosshair",o.on("move",()=>{this.setState({lng:o.getCenter().lng.toFixed(4),lat:o.getCenter().lat.toFixed(4),zoom:o.getZoom().toFixed(2)})}),o.on("click",s=>{this.setState({points:[...this.state.points,s.lngLat]})}),this.map=o});this.state={lat:m.majestic.loc[0],lng:m.majestic.loc[1],zoom:11,points:[]},this.mapContainer=t.createRef()}componentDidMount(){this.initMap(),this.map.on("load",()=>{this.map.addSource("route",d([])),this.map.addLayer({id:"route",source:"route",type:"line",paint:{"line-color":"#4264fb","line-width":8}})})}componentDidUpdate(e,i,r){const{points:o}=this.state;i.points!==o&&this.map.getSource("route").setData(g(o).data)}componentWillUnmount(){this.map&&this.map.getLayer("route")&&this.map.removeLayer("route"),this.map&&this.map.getSource("route")&&this.map.removeSource("route")}render(){const{points:e}=this.state;return t.createElement("div",{id:"route-viz-wrapper"},t.createElement("div",{id:"route-viz-map",ref:this.mapContainer}),t.createElement("div",{id:"route-viz-info"},t.createElement("h3",null,"Route"),e.length===0?t.createElement("p",null,"Click on a point on the map to add to the route"):t.createElement(t.Fragment,null,t.createElement("button",null,"Copy"),t.createElement("div",{id:"route-viz-points"},e.map((i,r)=>t.createElement("div",{key:r},i.lng.toFixed(6),", ",i.lat.toFixed(6)))))))}}const v=u.createRoot(document.getElementById("root"));v.render(t.createElement(y,null));
//# sourceMappingURL=route-viz-BPlQA_U4.js.map
