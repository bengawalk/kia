var c=Object.defineProperty;var u=(n,a,e)=>a in n?c(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e;var m=(n,a,e)=>u(n,typeof a!="symbol"?a+"":a,e);import{n as d,q as h,a as t,S as l,b as g}from"./index-qJTeAyzP.js";import{m as p}from"./mapbox-gl-C34eMklD.js";p.accessToken=d;const v=n=>({type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:(n||[]).map(a=>[a.lng,a.lat])}}]}});class y extends t.Component{constructor(e){super(e);m(this,"initMap",()=>{const{lng:e,lat:i,zoom:r}=this.state,o=new p.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/streets-v11",center:[e,i],zoom:r,minZoom:10,maxZoom:18});o.dragRotate.disable(),o.touchZoomRotate.disableRotation(),o.getCanvas().style.cursor="crosshair",o.on("move",()=>{this.setState({lng:o.getCenter().lng.toFixed(4),lat:o.getCenter().lat.toFixed(4),zoom:o.getZoom().toFixed(2)})}),o.on("click",s=>{this.setState({points:[...this.state.points,s.lngLat]})}),this.map=o});this.state={lat:l.majestic.loc[0],lng:l.majestic.loc[1],zoom:11,points:[]},this.mapContainer=t.createRef()}componentDidMount(){this.initMap(),this.map.on("load",()=>{this.map.addSource("route",g([])),this.map.addLayer({id:"route",source:"route",type:"line",paint:{"line-color":"#4264fb","line-width":8}})})}componentDidUpdate(e,i,r){const{points:o}=this.state;i.points!==o&&this.map.getSource("route").setData(v(o).data)}componentWillUnmount(){this.map&&this.map.getLayer("route")&&this.map.removeLayer("route"),this.map&&this.map.getSource("route")&&this.map.removeSource("route")}render(){const{points:e}=this.state;return t.createElement("div",{id:"route-viz-wrapper"},t.createElement("div",{id:"route-viz-map",ref:this.mapContainer}),t.createElement("div",{id:"route-viz-info"},t.createElement("h3",null,"Route"),e.length===0?t.createElement("p",null,"Click on a point on the map to add to the route"):t.createElement(t.Fragment,null,t.createElement("button",null,"Copy"),t.createElement("div",{id:"route-viz-points"},e.map((i,r)=>t.createElement("div",{key:r},i.lng.toFixed(6),", ",i.lat.toFixed(6)))))))}}const E=h.createRoot(document.getElementById("root"));E.render(t.createElement(y,null));
//# sourceMappingURL=route-viz-DZQomywi.js.map
