var m=Object.defineProperty;var d=(a,n,t)=>n in a?m(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t;var p=(a,n,t)=>(d(a,typeof n!="symbol"?n+"":n,t),t);import{M as u,j as h,r as e,S as l,g}from"./index.6fbe98bd.js";import{m as c}from"./mapbox-gl.77ec7b88.js";c.accessToken=u;const x=a=>({type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:(a||[]).map(n=>[n.lng,n.lat])}}]}});class v extends e.exports.Component{constructor(t){super(t);p(this,"initMap",()=>{const{lng:t,lat:r,zoom:s}=this.state,o=new c.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/streets-v11",center:[t,r],zoom:s,minZoom:10,maxZoom:18});o.dragRotate.disable(),o.touchZoomRotate.disableRotation(),o.getCanvas().style.cursor="crosshair",o.on("move",()=>{this.setState({lng:o.getCenter().lng.toFixed(4),lat:o.getCenter().lat.toFixed(4),zoom:o.getZoom().toFixed(2)})}),o.on("click",i=>{this.setState({points:[...this.state.points,i.lngLat]})}),this.map=o});this.state={lat:l.majestic.loc[0],lng:l.majestic.loc[1],zoom:11,points:[]},this.mapContainer=e.exports.createRef()}componentDidMount(){this.initMap(),this.map.on("load",()=>{this.map.addSource("route",g([])),this.map.addLayer({id:"route",source:"route",type:"line",paint:{"line-color":"#4264fb","line-width":8}})})}componentDidUpdate(t,r,s){const{points:o}=this.state;r.points!==o&&this.map.getSource("route").setData(x(o).data)}render(){const{points:t}=this.state;return e.exports.createElement("div",{id:"route-viz-wrapper"},e.exports.createElement("div",{id:"route-viz-map",ref:this.mapContainer}),e.exports.createElement("div",{id:"route-viz-info"},e.exports.createElement("h3",null,"Route"),t.length===0?e.exports.createElement("p",null,"Click on a point on the map to add to the route"):e.exports.createElement(e.exports.Fragment,null,e.exports.createElement("button",null,"Copy"),e.exports.createElement("div",{id:"route-viz-points"},t.map((r,s)=>e.exports.createElement("div",{key:s},r.lng.toFixed(6),", ",r.lat.toFixed(6)))))))}}const y=h(document.getElementById("root"));y.render(e.exports.createElement(v,null));
//# sourceMappingURL=route-viz.6769ff68.js.map
